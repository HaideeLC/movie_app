<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>å“¡å·¥é›»å½±ç®¡ç†</title>
<style>
body {
    margin: 0;
    font-family: "Segoe UI", Arial, sans-serif;
    min-height: 100vh;
    background: url('https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?auto=format&fit=crop&w=1470&q=80') no-repeat center center fixed;
    background-size: cover;
    color: white;
}

/* æ¨¡ç³ŠèƒŒæ™¯å±¤ */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    background: inherit;
    filter: blur(12px) brightness(0.5);
    z-index: -1;
}

/* ä¸»è¦å®¹å™¨ */
.container {
    position: relative;
    z-index: 1;
    max-width: 900px;
    margin: 40px auto;
    padding: 20px;
    background: rgba(0,0,0,0.5);
    border-radius: 12px;
}

/* æ¨™é¡Œåˆ— */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.header h1 {
    margin: 0;
}

/* ç™»å‡ºæŒ‰éˆ• */
.logout-btn {
    padding: 6px 12px;
    border: none;
    border-radius: 6px;
    background-color: #dc2626;
    color: white;
    cursor: pointer;
    text-decoration: none;
    font-weight: bold;
}
.logout-btn:hover {
    background-color: #b91c1c;
}

/* è¡¨æ ¼ */
table { border-collapse: collapse; width: 100%; margin-top: 20px; }
th, td { border: 1px solid #ccc; padding: 8px; text-align: center; background: rgba(255,255,255,0.1); }
img { width: 80px; height: 120px; object-fit: cover; border-radius: 4px; }
button { padding: 4px 8px; border: none; border-radius: 4px; cursor: pointer; }
.book-btn { background-color: #16a34a; color: white; }
.delete-btn { background-color: #dc2626; color: white; }
.add-btn { background-color: #2563eb; color: white; margin-top: 10px; }

/* æ–°å¢è¡¨å–® */
form.inline { display: inline; }
.add-movie-form input {
    margin-bottom: 8px;
    padding: 6px;
    border-radius: 4px;
    border: none;
    width: calc(100% - 12px);
}
</style>
</head>
<body>

<div class="container">
    <!-- æ¨™é¡Œåˆ—ï¼šé¡¯ç¤ºå“¡å·¥åç¨± + ç™»å‡º -->
    <div class="header">
        <h1>ğŸ¬ å“¡å·¥é›»å½±ç®¡ç†</h1>
        <div>
            å“¡å·¥ï¼š{{ employee_name }} &nbsp;|&nbsp;
            <a href="{{ url_for('logout') }}" class="logout-btn">ç™»å‡º</a>
        </div>
    </div>

    <!-- æ–°å¢é›»å½±è¡¨å–® -->
    <div class="add-movie-form">
        <h3>æ–°å¢é›»å½±</h3>
        <form method="post" action="/manage_movies">
            <input type="text" name="title" placeholder="é›»å½±åç¨±" required><br>
            <input type="text" name="showtime" placeholder="æ”¾æ˜ æ™‚é–“" required><br>
            <input type="text" name="poster_url" placeholder="æµ·å ± URL (å¯ç©ºç™½)"><br>
            <input type="number" name="total_seats" placeholder="åº§ä½æ•¸ (é è¨­100)" min="1"><br>
            <button type="submit" class="add-btn">æ–°å¢é›»å½±</button>
        </form>
    </div>

    <!-- é›»å½±åˆ—è¡¨ -->
    <table>
        <thead>
            <tr>
                <th>é›»å½±åç¨±</th>
                <th>æµ·å ±</th>
                <th>æ”¾æ˜ æ™‚é–“</th>
                <th>åº§ä½æ•¸</th>
                <th>æ“ä½œ</th>
            </tr>
        </thead>
        <tbody>
            {% for m in movies %}
            <tr>
                <td>{{ m.title }}</td>
                <td>
                    {% if m.poster_url %}
                        <img src="{{ m.poster_url }}" alt="{{ m.title }}">
                    {% else %}
                        <img src="https://via.placeholder.com/80x120?text=No+Image" alt="No Image">
                    {% endif %}
                </td>
                <td>{{ m.showtime }}</td>
                <td>{{ m.total_seats }}</td>
                <td>
                    <form method="post" action="/delete_movie/{{ m.id }}" class="inline"
                          onsubmit="return confirm('ç¢ºå®šåˆªé™¤é€™éƒ¨é›»å½±å—ï¼Ÿ');">
                        <button class="delete-btn">åˆªé™¤</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

</body>
</html>